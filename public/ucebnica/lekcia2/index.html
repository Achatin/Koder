<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
    ğŸ® Lekcia II. - Spawn.codes
  </title>

  
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'poppins': ['Poppins', 'sans-serif'] 
          },
          gridTemplateColumns: {
            'fluid': 'repeat(auto-fit, minmax(8rem, 1fr))',
          }
        }
      }
    }
  </script>

  
  <script src="https://kit.fontawesome.com/29b25fbda6.js" crossorigin="anonymous"></script>

  <script defer language="javascript" type="text/javascript"  src="https://Spawn.codes/js/lock.js"></script>

  
  <meta name="description" content="Programovanie hier pre deti - Spawn.codes" />
  
  <meta name="author" content="Spawn.codes" />
  <meta name="generator" content="Hugo 0.101.0" />

</head>

  <body class="flex flex-col min-h-screen bg-slate-900 text-slate-100 transition-colors duration-500 body-font font-poppins"><header class="w-full px-4 pt-4 max-w-5xl mx-auto">
  <nav class="flex items-center justify-between flex-wrap">
    <div class="flex gap-2 items-center">
      
      <a href="mailto:spawn.code@proton.me" aria-label="EMail">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="12" cy="12" r="4" />
          <path d="M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28" />
        </svg>
      </a>
      
      <a href="https://Spawn.codes/" class="flex items-center font-bold">
        Spawn.codes
      </a>
    </div>

    <ul id="nav-menu" class="flex w-auto mt-0 space-x-5">
      
      <li>
        <a href="https://Spawn.codes/o-nas/" class="hover:text-blue-300">O nÃ¡s</a>
      </li>
      
      
      <li>
        <a href="https://Spawn.codes/ucebnica/" class="hover:text-blue-300">UÄebnica</a>
      </li>
      
      
      <li>
        <a href="https://Spawn.codes/kontakt/" class="hover:text-blue-300">Kontakt</a>
      </li>
      
    </ul>
  </nav>
</header>
<main class="flex-1 mx-4 md:mx-12 lg:mx-24 mt-8 sm:mt-16">
<article class="mb-16 max-w-5xl mx-auto px-4 prose lg:prose-lg prose-invert">
  <h1>ğŸ® Lekcia II.</h1>
  <p><strong>Vitaj naspÃ¤Å¥! ğŸ¤™</strong></p>
<p>Na dneÅ¡nej lekcii budeme pokraÄovaÅ¥ v naÅ¡ej rozpracovanej hre - <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">Pet Dino ğŸ²</span>. V tejto hre mÃ¡me implementovanÃ© uÅ¾ vÅ¡etky podstatnÃ© veci, vÄaka tomu mÃ´Å¾e byÅ¥ celÃ¡ hodina venovanÃ¡ konceptu <strong>kolÃ­ziÃ­</strong>.</p>
<figure class="float-right ml-16 max-w-sm"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/solid.gif"/>
</figure>

<h2 id="kolÃ­zie">KolÃ­zie</h2>
<p>KolÃ­zie (v preklade <em>zrÃ¡Å¾ky</em>) sÃº blÃ­zke <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">interakcie ğŸ‘ˆ</span> medzi dvoma objektami hry. V hrÃ¡ch sa bude zrÃ¡Å¾aÅ¥ najÄastejÅ¡ie hrÃ¡Ä s predmetom. PrÃ­kladom takÃ½chto kolÃ­ziÃ­ je naprÃ­klad zbieranie <em>Coins</em> alebo vytvorenie stien, cez ktorÃ© sa nedÃ¡ prechÃ¡dzaÅ¥. Ty si dnes vyskÃºÅ¡aÅ¡ oba tieto typy kolÃ­ziÃ­.</p>
<h2 id="sprites">Sprites</h2>
<p>Na zaÄiatok si vytvor jednoduchÃº <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">hernÃº grafiku ğŸ¨</span>. Jeden obrÃ¡zok bude pre interaktÃ­vny predmet, v mojom prÃ­pade truhla s pokladom, a druhÃ½ obrÃ¡zok bude pre solÃ­dny objekt, napr. tehlovÃ¡ stena.
<figure class="float-right ml-16 max-w-sm"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/brick.png"/>
</figure>

<figure class="float-left mr-16 max-w-sm"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/chest.png"/>
</figure>
</p>
<figure class="clear-both"><img src=""/>
</figure>

<figure class="float-right ml-16 max-w-xs"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/flags.png"/>
</figure>

<h2 id="flags">Flags</h2>
<p>V Pico-8 existuje koncept, kedy si sprites vieme oznaÄiÅ¥ 8 rÃ´znymi <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">vlajkami ğŸš©</span>. Tieto vlajky slÃºÅ¾ia hlavne na ÃºÄely kolÃ­ziÃ­. My si oznaÄÃ­me nÃ¡Å¡ solÃ­dny objekt (stenu) vlajkou 0 - prvou zÄ¾ava. InteraktÃ­vny predmet oznaÄÃ­me vlajkou 1 (oranÅ¾ovÃ¡).</p>
<h2 id="princÃ­p-kolÃ­ziÃ­">PrincÃ­p kolÃ­ziÃ­</h2>
<p>PrincÃ­p kolÃ­ziÃ­ v hrÃ¡ch je nasledovnÃ½: <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">ak sa hrÃ¡Ä dotkne svojim pixelom pixelu inÃ©ho objektu s kolÃ­ziami, nastane interakcia ğŸ‘ˆ</span>. TakÃ¡to interakcia mÃ´Å¾e byÅ¥ napr. zahratie zvuÄky, otvorenie truhly, zmiznutie mince alebo nemoÅ¾nosÅ¥ Ã­sÅ¥ Äalej (pri stenÃ¡ch).</p>
<p>Vlajky urÄujÃº, ktorÃ© sprites vyvolajÃº kolÃ­ziu. My iba skontrolujeme, Äi sa obrÃ¡zok nÃ¡Å¡ho hrÃ¡Äa neprekrÃ½va s obrÃ¡zkom s vlajkou. To spravÃ­me tak, Å¾e budeme kontrolovaÅ¥ pozÃ­cie 4 pixelov na rohoch obrÃ¡zku a budeme ich porovnÃ¡vaÅ¥ s pozÃ­ciami obrÃ¡zku s vlajkou. Znie to zloÅ¾itejÅ¡ie, ako to v skutoÄnosti je, pretoÅ¾e Pico-8 mÃ¡ presne na tento prÃ­pad Å¡peciÃ¡lne prÃ­kazy.</p>
<h2 id="funkcia-collision">Funkcia collision()</h2>
<p>Funkcie slÃºÅ¾ia na vytvÃ¡ranie <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">vlastnÃ½ch prÃ­kazov ğŸ”§</span>. Ty si vytvorÃ­Å¡ funkciu <strong>collision()</strong>, ktorÃ¡ bude kontrolovaÅ¥, Äi sa hrÃ¡Ä zrazil s predmetom s vlajkou.</p>
<p>Funkcia mÃ¡ parameter flag, ktorÃ½ bude ÄÃ­slo vlajky - 0 pre solÃ­dny objekt, 1 pre interaktÃ­vny predmet.</p>
<p>BudeÅ¡ potrebovaÅ¥ 2 novÃ© prÃ­kazy:</p>
<ul>
<li><span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">fget()</span> - skontroluje, Äi sa na obrÃ¡zku nachÃ¡dza vlajka</li>
<li><span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">mget()</span> - vrÃ¡ti obrÃ¡zok z urÄitej pozÃ­cie na mape</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Lua" data-lang="Lua"><span style="display:flex;"><span><span style="color:#ff79c6">function</span> <span style="color:#50fa7b">collision</span>(flag)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> fget(mget(player.x<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>, player.y<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>), flag)
</span></span><span style="display:flex;"><span>	<span style="color:#ff79c6">or</span> fget(mget((player.x<span style="color:#ff79c6">+</span><span style="color:#bd93f9">8</span>)<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>, player.y<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>), flag)
</span></span><span style="display:flex;"><span>	<span style="color:#ff79c6">or</span> fget(mget(player.x<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>, (player.y<span style="color:#ff79c6">+</span><span style="color:#bd93f9">8</span>)<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>), flag)
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">or</span> fget(mget((player.x<span style="color:#ff79c6">+</span><span style="color:#bd93f9">8</span>)<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>, (player.y<span style="color:#ff79c6">+</span><span style="color:#bd93f9">8</span>)<span style="color:#ff79c6">/</span><span style="color:#bd93f9">8</span>), flag)
</span></span><span style="display:flex;"><span>	<span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ff79c6">return</span> <span style="color:#ff79c6">true</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#ff79c6">return</span> <span style="color:#ff79c6">false</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>
</span></span></code></pre></div><p>VÅ¡imni si, Å¾e kontrolujeme vÅ¡etky 4 rohy obrÃ¡zku - pravÃ½ aj Ä¾avÃ½, hornÃ½ aj dolnÃ½. Tieto body nÃ¡m na sprÃ¡vnu kolÃ­ziu postaÄia.</p>
<p>Ak dÃ´jde ku zrÃ¡Å¾ke, funkcia vrÃ¡ti (return) TRUE. V opaÄnom prÃ­pade vÅ¾dy vrÃ¡ti FALSE. To potom mÃ´Å¾eme vyuÅ¾iÅ¥ v podmienke, napr.:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Lua" data-lang="Lua"><span style="display:flex;"><span><span style="color:#6272a4">--podmienka</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">if</span> collision(<span style="color:#bd93f9">0</span>) <span style="color:#ff79c6">==</span> <span style="color:#ff79c6">true</span> <span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">--interakcia</span>
</span></span><span style="display:flex;"><span>    player.sprite<span style="color:#ff79c6">=</span><span style="color:#bd93f9">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>
</span></span></code></pre></div><h2 id="kolÃ­zia-s-pokladom">KolÃ­zia s pokladom</h2>
<figure class="float-right ml-16 max-w-xs"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/open-chest.gif"/>
</figure>

<p>Funkciu <span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">collision()</span> mÃ´Å¾eÅ¡ rovno pouÅ¾iÅ¥ pri kolÃ­zii s pokladom. Do Å¡peciÃ¡lnej funkcie <span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">_update()</span>, ktorÃ¡ pravidelne kontroluje stav hry, pridaj podmienku - ak dÃ´jde ku kolÃ­zii s interaktÃ­vnym predmetom, potom napr. zahraj zvuÄku.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Lua" data-lang="Lua"><span style="display:flex;"><span><span style="color:#6272a4">--ak dÃ´jde ku kolÃ­zii s interaktÃ­vnÃ½m predmetom</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">if</span> collision(<span style="color:#bd93f9">1</span>) <span style="color:#ff79c6">==</span> <span style="color:#ff79c6">true</span> <span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">--mÃ´Å¾eÅ¡ zahraÅ¥ zvuÄku</span>
</span></span><span style="display:flex;"><span>	sfx(<span style="color:#bd93f9">1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">--alebo zmeniÅ¥ sprite</span>
</span></span><span style="display:flex;"><span>	mset(x,y,sprite)
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>
</span></span></code></pre></div><p>VÅ¡imni si, Å¾e ako parameter funkcie sme dali 1, pretoÅ¾e chceme skontrolovaÅ¥ kolÃ­zie pre predmety s vlajkou 1.</p>
<figure class="float-right ml-16 max-w-xs"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/sfx.png"/>
</figure>

<h2 id="sfx">SFX</h2>
<p>Special Effects je v Pico-8 spÃ´sob ako zahraÅ¥ krÃ¡tku <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">zvuÄku ğŸº</span>. SlÃºÅ¾i na to prÃ­kaz <span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">sfx()</span>.</p>
<p>Najprv si vytvor zvuÄku. StaÄÃ­ iba jednoduchÃ© &ldquo;Äa-Äing&rdquo;. Je vÅ¡ak dÃ´leÅ¾itÃ© si zapamÃ¤taÅ¥ ÄÃ­slo skladby. U mÅˆa je to skladba <em>01</em>. Po vytvorenÃ­ staÄÃ­ pouÅ¾iÅ¥ spomenutÃ½ prÃ­kaz a do zÃ¡tvorky napÃ­saÅ¥ ÄÃ­slo skladby.</p>
<p>Rozdiel medzi prÃ­kazmi <span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">sfx()</span> a <span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">music()</span> je, Å¾e music hrÃ¡ celÃ½ track, ktorÃ½ sa mÃ´Å¾e skladaÅ¥ s viacero zvuÄiek. Sfx je iba jedinÃ¡ zvuÄka.</p>
<figure class="clear-both"><img src=""/>
</figure>

<figure class="float-right ml-16 max-w-xs"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/open-chest.png"/>
</figure>

<h2 id="mini-animÃ¡cia">Mini-animÃ¡cia</h2>
<p>Pri kolÃ­ziÃ­ s truhlou vieme pridaÅ¥ aj malÃº animÃ¡ciu, kedy sa truhla otvorÃ­. StaÄÃ­ len zmeniÅ¥ obrÃ¡zok na pozÃ­cii truhly.</p>
<p>Na tento prÃ­pad slÃºÅ¾i prÃ­kaz <span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">mset(x,y,sprite)</span>. Jeho parametre sÃº x-ovÃ¡ a y-ovÃ¡ pozÃ­cia <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">na mape ğŸŒ</span> a ÄÃ­slo obrÃ¡zku, na ktorÃ½ sa mÃ¡ zmeniÅ¥. X-ovÃ¡ a y-ovÃ¡ pozÃ­cia sa dÃ¡ zistiÅ¥ v mapovom editore ako koorinÃ¡cie na spodnej Äervenej liÅ¡te.</p>
<blockquote>
<p><strong>ğŸ”° Ãšloha:</strong> Vytvor podobnÃº animÃ¡ciu aj pre otvÃ¡ranie dverÃ­.</p>
</blockquote>
<figure class="clear-both"><img src=""/>
</figure>

<figure class="float-right ml-16 max-w-xs"><img src="https://Spawn.codes/vyvoj-hier/lekcia2/solid.gif"/>
</figure>

<h2 id="kolÃ­zia-so-stenou">KolÃ­zia so stenou</h2>
<p>Pri kolÃ­zii so stenou chceÅ¡, aby hrÃ¡Ä nemohol prechÃ¡dzaÅ¥ stenami. To znamenÃ¡, Å¾e mu musÃ­Å¡ dovoliÅ¥ pohyb iba keÄ nie je v kolÃ­zii so stenou.</p>
<p>V programe pri pohybe teda staÄÃ­ pridaÅ¥ do kaÅ¾dej podmienky <span class="font-mono text-slate-400 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-slate-800">or collision(0)</span>.</p>
<p>OperÃ¡tor <span class="font-semibold text-lg text-slate-800 text-center max-w-sm mx-1 rounded-md px-2 py-1 bg-gradient-to-r from-indigo-200 via-red-200 to-yellow-100 shadow-md shadow-indigo-600">or ğŸ’â€â™€ï¸</span> (alebo) robÃ­ to, Å¾e podmienka bude pravdivÃ¡ vtedy, keÄ iba jeden vÃ½rok bude pravdivÃ½. To znamenÃ¡, Å¾e keÄ sa drÅ¾Ã­ tlaÄÃ­tko na pohyb alebo keÄ dochÃ¡dza ku kolÃ­zii. DÃ´leÅ¾itÃ© je, Å¾e keÄ sÃº oba vÃ½roky pravdivÃ©, pohyb je nemoÅ¾nÃ½.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Lua" data-lang="Lua"><span style="display:flex;"><span><span style="color:#ff79c6">if</span> btn(â¬†ï¸) <span style="color:#ff79c6">or</span> collision(<span style="color:#bd93f9">0</span>) <span style="color:#ff79c6">then</span> player.y <span style="color:#ff79c6">-=</span> player.speed <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">if</span> btn(â¬‡ï¸) <span style="color:#ff79c6">or</span> collision(<span style="color:#bd93f9">0</span>) <span style="color:#ff79c6">then</span> player.y <span style="color:#ff79c6">+=</span> player.speed <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">if</span> btn(â¬…ï¸) <span style="color:#ff79c6">or</span> collision(<span style="color:#bd93f9">0</span>) <span style="color:#ff79c6">then</span>
</span></span><span style="display:flex;"><span>	player.x <span style="color:#ff79c6">-=</span> player.speed
</span></span><span style="display:flex;"><span>	player.flp <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">true</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">if</span> btn(â¡ï¸) <span style="color:#ff79c6">or</span> collision(<span style="color:#bd93f9">0</span>) <span style="color:#ff79c6">then</span> 
</span></span><span style="display:flex;"><span>	player.x <span style="color:#ff79c6">+=</span> player.speed
</span></span><span style="display:flex;"><span>	player.flp <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">false</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>
</span></span></code></pre></div><blockquote>
<p><strong>ğŸ”° Ãšloha:</strong> Vytvor aj inÃ© solÃ­dne objekty, cez ktorÃ© sa nedÃ¡ prechÃ¡dzaÅ¥. VÅ¡imni si, Å¾e staÄÃ­ uÅ¾ len pridaÅ¥ vlajku.</p>
</blockquote>


  
</article>

    </main><footer class="w-full text-center p-4 text-xs text-gray-400">
  <p>
    Copyright Â© 2022 - Spawn.codes Â· All rights reserved
  </p>
</footer>

</body>
</html>
